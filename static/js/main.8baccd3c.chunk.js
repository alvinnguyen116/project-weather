(this["webpackJsonpproject-weather"]=this["webpackJsonpproject-weather"]||[]).push([[0],{21:function(e,t,a){e.exports=a(35)},26:function(e,t,a){},28:function(e,t,a){},31:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),l=a.n(r),s=a(9),i=(a(26),a(4)),o=a(11),u=a.n(o),m=a(18);function d(e){return p.apply(this,arguments)}function p(){return(p=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var E=Object.freeze({FAHRENHEIT:"imperial",CELSIUS:"metric",KELVIN:"kelvin"});a(28);function h(e){var t,a=e.temp,n=e.weather,r=e.dt,l=e.active,s=e.handleClick,i=a.min,o=a.max;i=Math.round(i),o=Math.round(o),n&&n.length&&(t=n[0].icon);var u="url(http://openweathermap.org/img/wn/".concat(t,"@2x.png)"),m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(1e3*r).getDay()].substring(0,3);return c.a.createElement("div",{className:"daily-weather ".concat(l?"active":""),onClick:s},c.a.createElement("div",{className:"day"},m),t?c.a.createElement("div",{className:"image",style:{backgroundImage:u}}):null,c.a.createElement("div",{className:"degrees"},c.a.createElement("span",{className:"max"},o,"\xb0"),c.a.createElement("span",null,i,"\xb0")))}var v=function(e){var t=e.isGoogleReady,a=e.isD3Ready,r=e.isSearchMode,l=e.address,s=e.setInputVal,o=e.inputVal,u=Object(n.useState)(),m=Object(i.a)(u,2),p=m[0],v=m[1],f=Object(n.useState)(E.FAHRENHEIT),g=Object(i.a)(f,2),b=g[0],y=g[1],j=Object(n.useState)(null),N=Object(i.a)(j,2),O=N[0],S=N[1],w=Object(n.useState)(0),k=Object(i.a)(w,2),I=k[0],C=k[1],M=Object(n.useRef)(null);if(Object(n.useEffect)((function(){a&&O&&O.hourly&&O.hourly.length&&d3.select(M.current).attr("width",400).attr("height",200)}),[O]),Object(n.useEffect)((function(){p?function(e,t){var a=e.lat,n=e.lon,c="86ad87c076e4ca1d5d30d98e7ce72ced";return t===E.KELVIN?d("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(a,"&lon=").concat(n,"&appid=").concat(c)):d("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(a,"&lon=").concat(n,"&units=").concat(t,"&appid=").concat(c))}(p,b).then(S):S(null)}),[p,b]),Object(n.useEffect)((function(){r||navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,a=t.latitude,n=t.longitude;v({lat:a,lon:n}),s("".concat(a,",").concat(n))}))}),[r]),Object(n.useEffect)((function(){r&&t&&l?function(e){if(!t)return;var a=new google.maps.places.AutocompleteService,n=new google.maps.Geocoder;a.getQueryPredictions({input:e},function(e,t,a){if(a===google.maps.places.PlacesServiceStatus.OK)try{var c=t[0].description;n.geocode({address:c},(function(t){if(t&&t.length){var a=t[0].geometry.location;e({lat:a.lat(),lon:a.lng()}),s(c)}}))}catch(r){throw r}else console.error(a)}.bind(null,v))}(l):v(null)}),[l]),O){var x,H,R=O.current,A=O.daily,T=R.humidity,F=R.rain,K=R.dt,L=R.temp,D=R.wind_speed,P=R.weather;L=Math.round(L),P&&P.length&&(x=P[0].description,H=P[0].icon);var V="url(http://openweathermap.org/img/wn/".concat(H,"@2x.png)"),W=new Date(1e3*K),G=W.getHours(),U="".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][W.getDay()]," ").concat(G%12?G%12:12,":00 ").concat(G>11?"PM":"AM"),z=o.split(",").slice(1,3).join(","),B=c.a.createElement("span",null,"\xb0F"),J=c.a.createElement("span",null,"\xb0C");b===E.FAHRENHEIT?J=c.a.createElement("div",{className:"link",onClick:function(){return y(E.CELSIUS)}},J):B=c.a.createElement("div",{className:"link",onClick:function(){return y(E.FAHRENHEIT)}},B);var Q=A.map((function(e,t){return c.a.createElement(h,Object.assign({},e,{key:e.dt,active:I===t,handleClick:function(){return C(t)}}))}));return c.a.createElement("div",{className:"weather"},c.a.createElement("div",{className:"current"},c.a.createElement("div",{className:"top"},c.a.createElement("div",{className:"title"},r?z:""),c.a.createElement("div",{className:"time"},U),x?c.a.createElement("div",{className:"description"},x):null),c.a.createElement("div",{className:"middle"},c.a.createElement("div",{className:"temp-container"},H?c.a.createElement("div",{className:"image",style:{backgroundImage:V}}):null,c.a.createElement("div",{className:"temp"},L),c.a.createElement("div",{className:"temp-options"},B," \xa0 | \xa0 ",J)),c.a.createElement("div",{className:"right"},c.a.createElement("div",{className:"precipitation"},"Precipitation: ","".concat(F||0,"%")),c.a.createElement("div",{className:"humidity"},"Humidity: ","".concat(T,"%")),c.a.createElement("div",{className:"wind"},"Wind: ","".concat(D," mph")),c.a.createElement("div",{className:"buttons"},c.a.createElement("button",null,"Temperature"),c.a.createElement("button",null,"Precipitation"),c.a.createElement("button",null,"Wind")))),c.a.createElement("svg",{ref:M}),c.a.createElement("div",{className:"bottom"},Q)))}return null},f=a(6),g=a(12),b=a.n(g);a(31);var y=function(){var e="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyAuthaYK4K1L1pOCEDjPbKVlnL99KxvfmI","&libraries=places"),t=Object(f.f)(),a=Object(n.useState)(!1),r=Object(i.a)(a,2),l=r[0],o=r[1],u=Object(n.useState)(!1),m=Object(i.a)(u,2),d=m[0],p=m[1],E=Object(n.useState)(!1),h=Object(i.a)(E,2),g=h[0],y=h[1],j=Object(n.useState)(null),N=Object(i.a)(j,2),O=N[0],S=N[1],w=Object(n.useState)(""),k=Object(i.a)(w,2),I=k[0],C=k[1],M=Object(n.useRef)(null),x={isGoogleReady:l,isD3Ready:d,address:O,inputVal:I,setInputVal:C};return c.a.createElement("div",{className:"App"},c.a.createElement(b.a,{url:e,onLoad:function(){return o(!0)}}),c.a.createElement(b.a,{url:"https://d3js.org/d3.v4.min.js",onLoad:function(){return p(!0)}}),c.a.createElement("div",{className:"search"},c.a.createElement("div",{className:"search-container ".concat(g?"focus":"")},c.a.createElement("input",{type:"text",ref:M,value:I,spellCheck:!1,onChange:function(e){return C(e.target.value)},onKeyUp:function(e){13===e.keyCode&&(S(I),t.push("/search"))},onFocus:function(){return y(!0)},onBlur:function(){return y(!1)}})),c.a.createElement(s.b,{to:"/search"},c.a.createElement("button",{onClick:function(){S(I)}},"Search"))),c.a.createElement(f.c,null,c.a.createElement(f.a,{path:"/current"},c.a.createElement(v,Object.assign({isSearchMode:!1},x))),c.a.createElement(f.a,{path:"/search"},c.a.createElement(v,Object.assign({isSearchMode:!0},x)))))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(s.a,null,c.a.createElement(y,null))),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.8baccd3c.chunk.js.map